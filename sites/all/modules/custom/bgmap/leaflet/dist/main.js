"use strict";(self.webpackChunkbgmap=self.webpackChunkbgmap||[]).push([[179],{910:function(e,t,n){n(147),n(310),n(725);var r,o=n.p+"b11ea9938143d9fcb35f.pbf",i=n.p+"a46202bb7170a425a6b1.pbf",a=n.p+"a34a9eb1871a81da4d65.pbf",d=n.p+"fc88cef050f391f6ce65.pbf",s=n(243),c=n.n(s),f=(n(292),n(242),n(409),n(24),n(375),n(821),n(276),n(490)),u=n.n(f),l=n(614),h=n.n(l),p=(n(295),{}),v=c().map("map",{center:[0,0],minZoom:-6,maxZoom:0,crs:c().CRS.Simple,fullscreenControl:!0});v.attributionControl.setPrefix(!1),v.on("fullscreenchange",(function(){r&&v.fitBounds(r)}));var g,b,m=!1,T=!1,w=!1,y=window.location.hash.substring(1),C={},k={},S=new(c().Control.extend({onAdd:function(e){return this.div=c().DomUtil.create("div","info"),this.div.hidden=!0,this.div},update:function(e){if(!e||!e.id)return this.div.innerHTML="",void(this.div.hidden=!0);if(this.div.hidden=!1,e.state){if(this.div.innerHTML=e.name,m)return void(this.div.innerHTML+="<br>County data not available for Canada")}else{var t=e.id.substring(0,e.id.length-3);this.div.innerHTML=11==t?e.name:e.name+", "+p[t]}var n=(m?k:C)[e.id];n&&(this.div.innerHTML+="<br>Reported "+n.reportCount+" times")}})),F=c().featureGroup(),L=c().layerGroup(),O=c().layerGroup(),j=new(c().Control.extend({onAdd:function(e){var t=c().DomUtil.create("div","info"),n=function(){return t.innerText="Switch to "+(m?"states/provinces":"counties")+" view"};return n(),t.addEventListener("click",(function(){T?m?(O.removeFrom(e),L.addTo(e)):(L.removeFrom(e),O.addTo(e),g.bringToFront()):A(!0).then((function(){m=!0})),b.bringToFront(),m=!m,F.setStyle({fillPattern:m&&N}),n()})),t}}));j.addTo(v),S.addTo(v);var B=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,M=B?"#eee":"#000",x=B?"#444":"#eee",H=B?"#13a013":"#19d119",N=new(c().StripePattern)({angle:45,color:x,spaceColor:B?"#666":"#bbb",spaceOpacity:1,weight:20,spaceWeight:20,height:40,width:40});N.addTo(v);var P=function(e){return e.blob().then((function(e){return e.arrayBuffer()}))};function A(e){if(e?T:w)return Promise.reject("Already fetched");var t=y&&!isNaN(y)?fetch("/node/"+y+"/bgmap"+(e?"/json":"/state/json")).then((function(e){return e.json()})):Promise.reject("No node ID specified");return e&&fetch(i).then(P).then((function(e){g=c().geoJSON(u()(new(h())(e)),{style:{weight:1,color:M,fillColor:!1}}).addTo(O)})),fetch(e?o:a).then(P).then((function(n){var r=e&&!B?.25:.5,o={},i={mouseover:function(e){var t=e.target;t.setStyle({weight:4}),t.bringToFront(),S.update(t.feature.properties)},mouseout:function(e){var t=e.target;t.setStyle({weight:r}),t.bringToBack(),S.update()}},a=c().geoJson(u()(new(h())(n)),{style:{weight:r,color:M,fillColor:x,fillOpacity:1},onEachFeature:function(t,n){n.on(i),o[n.feature.properties.id]=n,n.feature.properties.state=!e}});if(e||a.eachLayer((function(e){var t=e.feature.properties.id,n=2==t.length;e.addTo(n?L:F),n&&(p["0"==t[0]?t.substring(1):t]=e.feature.properties.name)})),t.then((function(t){var n;if(e)k=n=t;else{n=t.us||{};for(var r=t.ca||{},i=0,a=Object.keys(r);i<a.length;i++){var d=a[i];n["1"+d]=r[d]}C=n}for(var s=0,c=Object.keys(n);s<c.length;s++){var f=c[s];void 0!==o[f]&&o[f].setStyle({fillColor:H})}})),e)a.addTo(O),L.removeFrom(v),O.addTo(v),T=!0;else{L.addTo(v),F.addTo(v),w=!0;var d=L.getLayers()[50].getBounds().pad(.5);c().rectangle(d,{weight:1,color:M,fill:!1,dashArray:"8"}).addTo(F)}return a.bringToBack(),a}))}fetch(d).then(P).then((function(e){b=c().geoJSON(u()(new(h())(e)),{style:{weight:2,color:M,fillColor:!1}}).addTo(F)})),A(!1).then((function(e){r=e.getBounds(),v.fitBounds(r),b.bringToFront()}))}},function(e){e.O(0,[736],(function(){return t=910,e(e.s=t);var t}));e.O()}]);